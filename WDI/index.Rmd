---
title: "World Development Indicators"
description: |
  Data from the World Bank.
author:
- name: Andy Grogan-Kaylor
  url: https://agrogan1.github.io/
  affiliation: University of Michigan
  affiliation_url: https://umich.edu/
date: '`r Sys.Date()`'
output:
  distill::distill_article:
    highlight: haddock
    toc: yes
    toc_float: yes
    code_folding: true
  pdf_document:
    highlight: haddock
    latex_engine: xelatex
citation_url: https://agrogan1.github.io
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE)

```

# Background

The [World Bank](http://www.worldbank.org/) collects statistical information from countries around the world.  A particularly useful data set is the **W**orld **D**evelopment **I**ndicators [(WDI)](http://data.worldbank.org/data-catalog/world-development-indicators) which are country level statistical information from around the world.

Using `library(WDI)` you can download indicator data directly from the World Bank, read it into a data set, and put it to use. 

# Call Libraries

```{r}

library(WDI) # World Bank API

library(DT) # nifty datatables

library(foreign) # write to Stata

library(haven) # write to Stata

library(dplyr) # data wrangling

```

# Search For Indicators

```{r, eval=FALSE}

myindicators <- WDIsearch('SP.POP', field = "indicator")

save(myindicators, file = "myindicators.RData")

```

```{r}

load("myindicators.RData")

datatable(myindicators, 
          caption = 'Population Indicators from WDI',
          extensions = 'Buttons', 
          options = list(
            dom = 'Bfrtip',
            buttons = c('copy', 
                        'csv', 
                        'excel')))

```

# Download Data

I am guessing that we are most interested in the indicator `SP.POP.0305.TO.UN:	Population, ages 3-5 total`, but we could modify this script to get another indicator, or multiple indicators. 

A sample of the data is below, and the full data in various formats can be found [here](https://github.com/agrogan1/research/WDI).

```{r, eval=FALSE}

mydata <- WDI(country = "all", 
              indicator = 'SP.POP.0305.TO.UN',
              extra = TRUE)

save(mydata, file = "WDI.RData")

```

```{r}

load("WDI.RData")

head(mydata)

write.csv(mydata, file = "WDI.csv") # csv version

mydata <- rename(mydata, SP_POP_0305_TO_UN = SP.POP.0305.TO.UN) # rename for Stata

haven::write_dta(mydata, "WDI.dta") # write to Stata

```



























