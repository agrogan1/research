<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andy Grogan-Kaylor">
<meta name="dcterms.date" content="2023-09-13">

<title>Media Mentions of Meta-Analysis of Research on Corporal Punishment</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="media-mentions-CP-meta_files/libs/clipboard/clipboard.min.js"></script>
<script src="media-mentions-CP-meta_files/libs/quarto-html/quarto.js"></script>
<script src="media-mentions-CP-meta_files/libs/quarto-html/popper.min.js"></script>
<script src="media-mentions-CP-meta_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="media-mentions-CP-meta_files/libs/quarto-html/anchor.min.js"></script>
<link href="media-mentions-CP-meta_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="media-mentions-CP-meta_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="media-mentions-CP-meta_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="media-mentions-CP-meta_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="media-mentions-CP-meta_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="media-mentions-CP-meta_files/libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="media-mentions-CP-meta_files/libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="media-mentions-CP-meta_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="media-mentions-CP-meta_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="media-mentions-CP-meta_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="media-mentions-CP-meta_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="media-mentions-CP-meta_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="media-mentions-CP-meta_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Media Mentions of Meta-Analysis of Research on Corporal Punishment</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andy Grogan-Kaylor </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 13, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell page-columns page-full">
<div class="cell-output-display column-page">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1cf2c754995bad00bd77" style="width:100%;height:371px;"></div>
<script type="application/json" data-for="htmlwidget-1cf2c754995bad00bd77">{"x":{"data":[{"orientation":"h","width":0.9,"base":0,"x":[0.09],"y":[1],"text":"Outcome: Child alcohol or substance abuse<br />d: 0.090","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(68,1,84,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.9,"base":0,"x":[0.133],"y":[2],"text":"Outcome: Adult alcohol or substance abuse<br />d: 0.133","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,34,104,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.9,"base":0,"x":[0.143],"y":[3],"text":"Outcome: Immediate defiance<br />d: 0.143","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(70,39,108,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.9,"base":0,"x":[0.151],"y":[4],"text":"Outcome: Low self-esteem<br />d: 0.151","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(69,44,112,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.9,"base":0,"x":[0.166],"y":[5],"text":"Outcome: Impaired cognitive ability<br />d: 0.166","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(69,51,119,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.9,"base":0,"x":[0.238],"y":[6],"text":"Outcome: Child internalizing behavior problems<br />d: 0.238","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(61,87,138,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.9,"base":0,"x":[0.24],"y":[7],"text":"Outcome: Adult mental health problems<br />d: 0.240","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(61,88,138,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.301],"y":[8],"text":"Outcome: Low self-regulation<br />d: 0.301","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(45,117,142,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.331],"y":[9],"text":"Outcome: Overall effect size<br />d: 0.331","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(43,130,140,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.355],"y":[10],"text":"Outcome: Adult antisocial behavior<br />d: 0.355","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(43,140,138,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.37],"y":[11],"text":"Outcome: Child aggression<br />d: 0.370","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(42,147,137,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.379],"y":[12],"text":"Outcome: Adult support for physical punishment<br />d: 0.379","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(42,151,136,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.382],"y":[13],"text":"Outcome: Low moral internalization<br />d: 0.382","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(41,152,136,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.387],"y":[14],"text":"Outcome: Child anti-social behavior<br />d: 0.387","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(41,155,135,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.41],"y":[15],"text":"Outcome: Child externalizing behavior problems<br />d: 0.410","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(36,165,133,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.511],"y":[16],"text":"Outcome: Negative parent-child relationship<br />d: 0.511","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(114,203,90,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.528],"y":[17],"text":"Outcome: Child mental health problems<br />d: 0.528","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(125,209,80,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":0.899999999999999,"base":0,"x":[0.635],"y":[18],"text":"Outcome: Victim of physical abuse<br />d: 0.635","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,231,37,1)","line":{"width":1.88976377952756,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.5525114155251,"r":7.30593607305936,"b":34.703196347032,"l":221.004566210046},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Effect Sizes of Physical Punishment","font":{"color":"rgba(0,0,0,1)","family":"","size":8.76712328767123},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.03175,0.66675],"tickmode":"array","ticktext":["0.0","0.2","0.4","0.6"],"tickvals":[0,0.2,0.4,0.6],"categoryorder":"array","categoryarray":["0.0","0.2","0.4","0.6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":10.958904109589},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Cohen's d Effect Size","font":{"color":"rgba(0,0,0,1)","family":"","size":7.30593607305936}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,18.6],"tickmode":"array","ticktext":["Child alcohol or substance abuse","Adult alcohol or substance abuse","Immediate defiance","Low self-esteem","Impaired cognitive ability","Child internalizing behavior problems","Adult mental health problems","Low self-regulation","Overall effect size","Adult antisocial behavior","Child aggression","Adult support for physical punishment","Low moral internalization","Child anti-social behavior","Child externalizing behavior problems","Negative parent-child relationship","Child mental health problems","Victim of physical abuse"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],"categoryorder":"array","categoryarray":["Child alcohol or substance abuse","Adult alcohol or substance abuse","Immediate defiance","Low self-esteem","Impaired cognitive ability","Child internalizing behavior problems","Adult mental health problems","Low self-regulation","Overall effect size","Adult antisocial behavior","Child aggression","Adult support for physical punishment","Low moral internalization","Child anti-social behavior","Child externalizing behavior problems","Negative parent-child relationship","Child mental health problems","Victim of physical abuse"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":10.958904109589},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Outcome","font":{"color":"rgba(0,0,0,1)","family":"","size":7.30593607305936}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"e9191686ae":{"x":{},"y":{},"label":{},"fill":{},"type":"bar"}},"cur_data":"e9191686ae","visdat":{"e9191686ae":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Media Mentions of Meta-Analysis of Corporal Punishment Research:</p>
<blockquote class="blockquote">
<p>Gershoff, E. T., &amp; Grogan-Kaylor, A. (2016). Spanking and Child Outcomes: Old Controversies and New Meta-Analyses. Journal of Family Psychology. 30(4), 453-469. <a href="http://dx.doi.org/10.1037/fam0000191">http://dx.doi.org/10.1037/fam0000191</a></p>
</blockquote>
<p>Our meta-analysis of 50 years of research on corporal punishment received at least 100 mentions in the English language news media. Further, a report from University of Michigan News indicated that the press release from UM News received “more than 100 hits in Spanish, 60 in Chinese, 43 in Portuguese and 23 in India.”</p>
<p>Here are some of the many mentions:</p>
<ul>
<li><p>mentioned in the <em>CNN</em> article “<a href="https://www.cnn.com/2018/03/12/health/spanking-laws-parenting-without-borders-intl/index.html">These are the countries where spanking is illegal</a>”</p></li>
<li><p>featured in <em>The Telegraph</em> article, “<a href="https://www.telegraph.co.uk/science/2016/04/26/why-you-should-never-spank-a-child---major-research-project-conf/">Why you should never spank a child - major research project confirms dangers</a>”</p></li>
<li><p>featured in <em>The Boston Globe</em> article, “<a href="https://www.bostonglobe.com/lifestyle/2016/04/27/study-spanking-nearly-detrimental-abuse/X44bY3WymbVSv9LSRrKLWL/story.html">Spanking your kid is about as harmful as child abuse, says study</a>”</p></li>
<li><p>featured in the <em>Good Morning America</em> segment, “<a href="https://abcnews.go.com/GMA/video/study-spanking-linked-lifelong-social-mental-health-problems-38723342">New Report Says Spanking May Be Linked to Lifelong Social, Mental Health Problems in Kids</a>”</p></li>
<li><p>featured in <em>The Atlantic</em> article, “<a href="https://www.theatlantic.com/health/archive/2016/04/the-strong-evidence-against-spanking/479937/">The Strong Evidence Against Spanking</a>”</p></li>
<li><p>featured in the <em>Telemundo</em> article, “<a href="https://www.telemundo47.com/noticias/salud/estudio-afirma-que-nalgadas-no-son-buena-opcion-para-disciplinar-universidad-michigan-universidad-de-texas-377262761.html">Estudio: Nalgadas no son buenas para disciplinar</a>”</p></li>
<li><p>featured in the <em>U.S. News &amp; World Report</em> article, “<a href="https://www.usnews.com/news/articles/2016-04-26/spanking-kids-causes-mental-health-issues-study-shows">Don’t Spank Your Kids, Says 50 Years of Research</a>”</p></li>
<li><p>featured in the <em>CNN en Español</em> article, “<a href="https://cnnespanol.cnn.com/2016/04/26/por-que-nunca-deberias-castigar-a-tus-hijos-dandoles-palmadas/#0">Por que nunca deberías castigar a tus hijos dándoles palmadas</a>”</p></li>
<li><p>cited in the <em>Le Monde</em> article, “<a href="https://www.lemonde.fr/societe/article/2016/04/30/la-france-est-elle-prete-a-interdire-la-fessee_4911258_3224.html">La France est-elle prête à interdire la fessée?</a>”</p></li>
<li><p>cited in the <em>Vox</em> article, “<a href="https://www.vox.com/2016/4/27/11510118/spanking-children">Parents have been spanking children for millennia. 50 years of scientific evidence says they were wrong</a>”</p></li>
</ul>
<p>We discuss some of the implications of research on spanking–including our meta-analysis–<a href="http://theconversation.com/hard-evidence-spanking-could-lead-to-health-problems-antisocial-behavior-58566">in an article</a> for <em>The Conversation</em>.</p>
<p>Joan Lipuscek has written a <a href="http://www.joanlipuscek.com/child-therapy-news/new-research-in-the-old-spanking-debate">really nice blog post thinking through some of the issues raised by our research</a>.</p>
<p>Original press releases</p>
<ul>
<li><p>University of Michigan:</p>
<ul>
<li><a href="http://ns.umich.edu/new/releases/23732-spanking-does-more-harm-than-good">Spanking Does More Harm Than Good</a></li>
<li><a href="http://espanol.umich.edu/noticias/comunicados-de-prensa/2016/04/25/disciplinar-con-nalgadas-dana-a-los-ninos/">Disciplinar con nalgadas perjudica a los niños</a></li>
</ul></li>
<li><p>University of Texas: <a href="http://news.utexas.edu/2016/04/25/risks-of-harm-from-spanking-confirmed-by-researchers">Risks of Harm From Spanking Confirmed by Researchers</a></p></li>
</ul>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>